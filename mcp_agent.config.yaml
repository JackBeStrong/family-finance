# mcp-agent configuration for Family Finance Report Generator
# See: https://docs.mcp-agent.com/

execution_engine: asyncio

mcp:
  servers:
    family-finance:
      transport: streamable-http
      url: "http://192.168.1.237:8000/mcp"
    
    interactive-brokers:
      transport: stdio
      command: npx
      args: ["-y", "interactive-brokers-mcp"]
      # Note: IB_FLEX_TOKEN is injected programmatically in __main__.py
      # via monkey-patching get_default_environment() because mcp-agent
      # doesn't expand ${VAR} syntax in the env block

anthropic:
  default_model: claude-sonnet-4-5
  # Max output tokens for Claude Sonnet 4.5 is 64K
  default_request_params:
    max_tokens: 64000

logger:
  transports: [console]
  level: info
